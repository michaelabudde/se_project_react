{"ast":null,"code":"import{useState,useCallback,useEffect}from\"react\";export function useFormAndValidation(){const[values,setValues]=useState({name:\"\",email:\"\",avatar:\"\",imageUrl:\"\",weather:\"\"});const[errors,setErrors]=useState({});const[isValid,setIsValid]=useState(true);const[delayedErrors,setDelayedErrors]=useState({});const handleChange=event=>{// event.preventDefault();\nconst{name,value}=event.target;setValues({...values,[name]:value});setErrors({...errors,[name]:event.target.validationMessage});setIsValid(event.target.closest(\"form\").checkValidity());};useEffect(()=>{const timer=setTimeout(()=>{setDelayedErrors(errors);},900);return()=>clearTimeout(timer);},[errors]);const resetForm=useCallback(function(){let newValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};let newErrors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let newIsValid=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;setValues(newValues);setErrors(newErrors);setIsValid(newIsValid);setDelayedErrors({});},[setValues,setErrors,setIsValid]);return{values,errors:delayedErrors,isValid,handleChange,resetForm,setErrors};}","map":{"version":3,"names":["useState","useCallback","useEffect","useFormAndValidation","values","setValues","name","email","avatar","imageUrl","weather","errors","setErrors","isValid","setIsValid","delayedErrors","setDelayedErrors","handleChange","event","value","target","validationMessage","closest","checkValidity","timer","setTimeout","clearTimeout","resetForm","newValues","arguments","length","undefined","newErrors","newIsValid"],"sources":["/Users/michaelabudde/practicum/fullstack/se_project_react/src/hooks/useFormAndValidation.js"],"sourcesContent":["import { useState, useCallback, useEffect } from \"react\";\nexport function useFormAndValidation() {\n  const [values, setValues] = useState({\n    name: \"\",\n    email: \"\",\n    avatar: \"\",\n    imageUrl: \"\",\n    weather: \"\",\n  });\n  const [errors, setErrors] = useState({});\n  const [isValid, setIsValid] = useState(true);\n  const [delayedErrors, setDelayedErrors] = useState({});\n\n  const handleChange = (event) => {\n    // event.preventDefault();\n    const { name, value } = event.target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: event.target.validationMessage });\n    setIsValid(event.target.closest(\"form\").checkValidity());\n  };\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDelayedErrors(errors);\n    }, 900);\n    return () => clearTimeout(timer);\n  }, [errors]);\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n      setDelayedErrors({});\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return {\n    values,\n    errors: delayedErrors,\n    isValid,\n    handleChange,\n    resetForm,\n    setErrors,\n  };\n}\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,WAAW,CAAEC,SAAS,KAAQ,OAAO,CACxD,MAAO,SAAS,CAAAC,oBAAoBA,CAAA,CAAG,CACrC,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGL,QAAQ,CAAC,CACnCM,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE,EAAE,CACVC,QAAQ,CAAE,EAAE,CACZC,OAAO,CAAE,EACX,CAAC,CAAC,CACF,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC,CACxC,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACe,aAAa,CAAEC,gBAAgB,CAAC,CAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAEtD,KAAM,CAAAiB,YAAY,CAAIC,KAAK,EAAK,CAC9B;AACA,KAAM,CAAEZ,IAAI,CAAEa,KAAM,CAAC,CAAGD,KAAK,CAACE,MAAM,CACpCf,SAAS,CAAC,CAAE,GAAGD,MAAM,CAAE,CAACE,IAAI,EAAGa,KAAM,CAAC,CAAC,CACvCP,SAAS,CAAC,CAAE,GAAGD,MAAM,CAAE,CAACL,IAAI,EAAGY,KAAK,CAACE,MAAM,CAACC,iBAAkB,CAAC,CAAC,CAChEP,UAAU,CAACI,KAAK,CAACE,MAAM,CAACE,OAAO,CAAC,MAAM,CAAC,CAACC,aAAa,CAAC,CAAC,CAAC,CAC1D,CAAC,CACDrB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAsB,KAAK,CAAGC,UAAU,CAAC,IAAM,CAC7BT,gBAAgB,CAACL,MAAM,CAAC,CAC1B,CAAC,CAAE,GAAG,CAAC,CACP,MAAO,IAAMe,YAAY,CAACF,KAAK,CAAC,CAClC,CAAC,CAAE,CAACb,MAAM,CAAC,CAAC,CACZ,KAAM,CAAAgB,SAAS,CAAG1B,WAAW,CAC3B,UAAwD,IAAvD,CAAA2B,SAAS,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,IAAE,CAAAG,SAAS,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,IAAE,CAAAI,UAAU,CAAAJ,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,KAAK,CACjDxB,SAAS,CAACuB,SAAS,CAAC,CACpBhB,SAAS,CAACoB,SAAS,CAAC,CACpBlB,UAAU,CAACmB,UAAU,CAAC,CACtBjB,gBAAgB,CAAC,CAAC,CAAC,CAAC,CACtB,CAAC,CACD,CAACX,SAAS,CAAEO,SAAS,CAAEE,UAAU,CACnC,CAAC,CAED,MAAO,CACLV,MAAM,CACNO,MAAM,CAAEI,aAAa,CACrBF,OAAO,CACPI,YAAY,CACZU,SAAS,CACTf,SACF,CAAC,CACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}