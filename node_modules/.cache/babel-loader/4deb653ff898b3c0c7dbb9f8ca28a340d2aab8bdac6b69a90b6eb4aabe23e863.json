{"ast":null,"code":"import { baseUrl } from \"./constants\";\nexport const processServerResponse = res => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Error: ${res.status}`);\n};\nexport const api = async (method, endpoint, token = \"\", body = null, newItem = null) => {\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    Authorization: token ? `Bearer ${token}` : \"\"\n  };\n  const requestOptions = {\n    method: method,\n    headers: headers,\n    body: body ? JSON.stringify(body) : null,\n    newItem: JSON.stringify({\n      name: newItem.name,\n      weather: newItem.weather,\n      imageUrl: newItem.imageUrl\n    })\n  };\n  const res = await fetch(`${baseUrl}${endpoint}`, requestOptions);\n  console.log(res);\n  return processServerResponse(res);\n};\nexport const getClothingItems = async () => {\n  const res = await fetch(`${baseUrl}/items`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  return processServerResponse(res);\n};\nexport const addClothingItem = async newItem => {\n  const res = await fetch(`${baseUrl}/items`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      name: newItem.name,\n      weather: newItem.weather,\n      imageUrl: newItem.imageUrl\n    })\n  });\n  return processServerResponse(res);\n};\nexport const deleteClothingItems = async _id => {\n  const res = await fetch(`${baseUrl}/items/${_id}`, {\n    method: \"DELETE\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  });\n  return processServerResponse(res);\n};\nexport const addLike = (data, token) => {\n  return api(\"PUT\", `items/${data._id}/likes`, token);\n}; // itemId or _id ?\n\nexport const removeLike = (data, token) => {\n  return api(\"DELETE\", `items/${data._id}/likes`, token);\n};","map":{"version":3,"names":["baseUrl","processServerResponse","res","ok","json","Promise","reject","status","api","method","endpoint","token","body","newItem","headers","Authorization","requestOptions","JSON","stringify","name","weather","imageUrl","fetch","console","log","getClothingItems","addClothingItem","deleteClothingItems","_id","addLike","data","removeLike"],"sources":["/Users/michaelabudde/practicum/fullstack/se_project_react/src/utils/api.js"],"sourcesContent":["import { baseUrl } from \"./constants\";\n\nexport const processServerResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Error: ${res.status}`);\n};\n\nexport const api = async (\n  method,\n  endpoint,\n  token = \"\",\n  body = null,\n  newItem = null\n) => {\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    Authorization: token ? `Bearer ${token}` : \"\",\n  };\n\n  const requestOptions = {\n    method: method,\n    headers: headers,\n    body: body ? JSON.stringify(body) : null,\n    newItem: JSON.stringify({\n      name: newItem.name,\n      weather: newItem.weather,\n      imageUrl: newItem.imageUrl,\n    }),\n  };\n\n  const res = await fetch(`${baseUrl}${endpoint}`, requestOptions);\n  console.log(res);\n  return processServerResponse(res);\n};\n\nexport const getClothingItems = async () => {\n  const res = await fetch(`${baseUrl}/items`, {\n    method: \"GET\",\n    headers: { \"Content-Type\": \"application/json\" },\n  });\n  return processServerResponse(res);\n};\n\nexport const addClothingItem = async (newItem) => {\n  const res = await fetch(`${baseUrl}/items`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      name: newItem.name,\n      weather: newItem.weather,\n      imageUrl: newItem.imageUrl,\n    }),\n  });\n  return processServerResponse(res);\n};\n\nexport const deleteClothingItems = async (_id) => {\n  const res = await fetch(`${baseUrl}/items/${_id}`, {\n    method: \"DELETE\",\n    headers: { \"Content-Type\": \"application/json\" },\n  });\n  return processServerResponse(res);\n};\nexport const addLike = (data, token) => {\n  return api(\"PUT\", `items/${data._id}/likes`, token);\n}; // itemId or _id ?\n\nexport const removeLike = (data, token) => {\n  return api(\"DELETE\", `items/${data._id}/likes`, token);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}