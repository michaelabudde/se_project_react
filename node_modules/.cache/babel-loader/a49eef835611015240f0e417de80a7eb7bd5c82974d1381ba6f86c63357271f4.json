{"ast":null,"code":"import { baseUrl } from \"./constants\";\nimport { useCallback } from \"react\";\nexport const processServerResponse = res => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Error: ${res.status}`);\n};\nexport const api = async (method, endpoint, token = \"\", body = null) => {\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    Authorization: token ? `Bearer ${token}` : \"\"\n  };\n  const requestOptions = {\n    method: method,\n    headers: headers,\n    body: body ? JSON.stringify(body) : null\n  };\n  const res = await fetch(`${baseUrl}${endpoint}`, requestOptions);\n  return processServerResponse(res);\n};\nconst fetchUserInfo = useCallback(async authToken => {\n  const currentUser = await api(\"GET\", \"/users/me\", authToken);\n  if (currentUser) {\n    return currentUser.data;\n  } else {\n    console.error(\"Can't access user\");\n    throw Error(\"Error\");\n  }\n}, []);\n// export const getClothingItems = async () => {\n//   const res = await fetch(`${baseUrl}/items`, {\n//     method: \"GET\",\n//     headers: { \"Content-Type\": \"application/json\" },\n//   });\n//   return processServerResponse(res);\n// };\n\n// export const addLike = (itemId, token) => {\n//   return api(\"PUT\", `/items/${itemId}/likes`, token);\n// };\n// export const removeLike = (itemId, token) => {\n//   return api(\"DELETE\", `/items/${itemId}/likes`, token);\n// };\n// changed from data to item ? changed from item_.id","map":{"version":3,"names":["baseUrl","useCallback","processServerResponse","res","ok","json","Promise","reject","status","api","method","endpoint","token","body","headers","Authorization","requestOptions","JSON","stringify","fetch","fetchUserInfo","authToken","currentUser","data","console","error","Error"],"sources":["/Users/michaelabudde/practicum/fullstack/se_project_react/src/utils/api.js"],"sourcesContent":["import { baseUrl } from \"./constants\";\nimport { useCallback } from \"react\";\n\nexport const processServerResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Error: ${res.status}`);\n};\n\nexport const api = async (method, endpoint, token = \"\", body = null) => {\n  const headers = {\n    \"Content-Type\": \"application/json\",\n    Authorization: token ? `Bearer ${token}` : \"\",\n  };\n  const requestOptions = {\n    method: method,\n    headers: headers,\n    body: body ? JSON.stringify(body) : null,\n  };\n  const res = await fetch(`${baseUrl}${endpoint}`, requestOptions);\n  return processServerResponse(res);\n};\n\nconst fetchUserInfo = useCallback(async (authToken) => {\n  const currentUser = await api(\"GET\", \"/users/me\", authToken);\n  if (currentUser) {\n    return currentUser.data;\n  } else {\n    console.error(\"Can't access user\");\n    throw Error(\"Error\");\n  }\n}, []);\n// export const getClothingItems = async () => {\n//   const res = await fetch(`${baseUrl}/items`, {\n//     method: \"GET\",\n//     headers: { \"Content-Type\": \"application/json\" },\n//   });\n//   return processServerResponse(res);\n// };\n\n// export const addLike = (itemId, token) => {\n//   return api(\"PUT\", `/items/${itemId}/likes`, token);\n// };\n// export const removeLike = (itemId, token) => {\n//   return api(\"DELETE\", `/items/${itemId}/likes`, token);\n// };\n// changed from data to item ? changed from item_.id\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,aAAa;AACrC,SAASC,WAAW,QAAQ,OAAO;AAEnC,OAAO,MAAMC,qBAAqB,GAAIC,GAAG,IAAK;EAC5C,IAAIA,GAAG,CAACC,EAAE,EAAE;IACV,OAAOD,GAAG,CAACE,IAAI,CAAC,CAAC;EACnB;EACA,OAAOC,OAAO,CAACC,MAAM,CAAE,UAASJ,GAAG,CAACK,MAAO,EAAC,CAAC;AAC/C,CAAC;AAED,OAAO,MAAMC,GAAG,GAAG,MAAAA,CAAOC,MAAM,EAAEC,QAAQ,EAAEC,KAAK,GAAG,EAAE,EAAEC,IAAI,GAAG,IAAI,KAAK;EACtE,MAAMC,OAAO,GAAG;IACd,cAAc,EAAE,kBAAkB;IAClCC,aAAa,EAAEH,KAAK,GAAI,UAASA,KAAM,EAAC,GAAG;EAC7C,CAAC;EACD,MAAMI,cAAc,GAAG;IACrBN,MAAM,EAAEA,MAAM;IACdI,OAAO,EAAEA,OAAO;IAChBD,IAAI,EAAEA,IAAI,GAAGI,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,GAAG;EACtC,CAAC;EACD,MAAMV,GAAG,GAAG,MAAMgB,KAAK,CAAE,GAAEnB,OAAQ,GAAEW,QAAS,EAAC,EAAEK,cAAc,CAAC;EAChE,OAAOd,qBAAqB,CAACC,GAAG,CAAC;AACnC,CAAC;AAED,MAAMiB,aAAa,GAAGnB,WAAW,CAAC,MAAOoB,SAAS,IAAK;EACrD,MAAMC,WAAW,GAAG,MAAMb,GAAG,CAAC,KAAK,EAAE,WAAW,EAAEY,SAAS,CAAC;EAC5D,IAAIC,WAAW,EAAE;IACf,OAAOA,WAAW,CAACC,IAAI;EACzB,CAAC,MAAM;IACLC,OAAO,CAACC,KAAK,CAAC,mBAAmB,CAAC;IAClC,MAAMC,KAAK,CAAC,OAAO,CAAC;EACtB;AACF,CAAC,EAAE,EAAE,CAAC;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}