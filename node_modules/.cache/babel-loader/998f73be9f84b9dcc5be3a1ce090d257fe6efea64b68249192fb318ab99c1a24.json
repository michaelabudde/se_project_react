{"ast":null,"code":"import\"./Main.css\";import ItemCard from\"../ItemCard/ItemCard\";import\"../ItemCard/ItemCard.css\";import WeatherCard from\"../WeatherCard/WeatherCard\";import{weatherOptions}from\"../../utils/constants\";import{CurrentTemperatureUnitContext}from\"../../contexts/CurrentTemperatureUnitContext\";import React,{useContext,useMemo}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var _weatherTemp$temperat,_weatherOptions$find;let{weatherTemp,onCardClick,onCardLike,onClose,clothingArray,timeOfDay,day=true}=_ref;const{currentTemperatureUnit}=useContext(CurrentTemperatureUnitContext);const temp=(weatherTemp===null||weatherTemp===void 0?void 0:(_weatherTemp$temperat=weatherTemp.temperature)===null||_weatherTemp$temperat===void 0?void 0:_weatherTemp$temperat[currentTemperatureUnit])||999;const weatherOption=useMemo(()=>{var _weatherTemp$temperat2;const tempF=weatherTemp===null||weatherTemp===void 0?void 0:(_weatherTemp$temperat2=weatherTemp.temperature)===null||_weatherTemp$temperat2===void 0?void 0:_weatherTemp$temperat2.F;if(tempF>=86){return\"hot\";}else if(tempF>=66&&tempF<=85){return\"warm\";}else if(tempF<=65){return\"cold\";}},[weatherTemp]);// Construct the image path based on weatherType\nconst weatherCardImage=(_weatherOptions$find=weatherOptions.find(option=>option.weatherType===weatherOption&&option.day===day))===null||_weatherOptions$find===void 0?void 0:_weatherOptions$find.link;// Ensure clothingArray is always an array\nconst filteredCards=Array.isArray(clothingArray)?clothingArray.filter(item=>item.weather.toLowerCase()===weatherOption):[];return/*#__PURE__*/_jsxs(\"main\",{className:\"main\",children:[/*#__PURE__*/_jsx(WeatherCard,{weatherCard:weatherCardImage,day:timeOfDay,temp:temp}),/*#__PURE__*/_jsxs(\"section\",{className:\"main__clothes\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main__info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card__section\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"card__section-title\",children:[\"Today is \",temp,\"\\xB0 \",currentTemperatureUnit,\" and it is\",\" \",weatherOption]}),/*#__PURE__*/_jsx(\"p\",{className:\"card__section-title_slash\",children:\" / \"}),/*#__PURE__*/_jsx(\"p\",{className:\"card__section-title\",children:\"You may want to wear:\"})]})}),/*#__PURE__*/_jsx(\"ul\",{className:\"card__items\",children:filteredCards.map(item=>{return/*#__PURE__*/_jsx(ItemCard,{item:item,onCardClick:onCardClick(item),onCardLike:onCardLike,onClose:onClose},item._id);})})]})]});}export default Main;","map":{"version":3,"names":["ItemCard","WeatherCard","weatherOptions","CurrentTemperatureUnitContext","React","useContext","useMemo","jsx","_jsx","jsxs","_jsxs","Main","_ref","_weatherTemp$temperat","_weatherOptions$find","weatherTemp","onCardClick","onCardLike","onClose","clothingArray","timeOfDay","day","currentTemperatureUnit","temp","temperature","weatherOption","_weatherTemp$temperat2","tempF","F","weatherCardImage","find","option","weatherType","link","filteredCards","Array","isArray","filter","item","weather","toLowerCase","className","children","weatherCard","map","_id"],"sources":["/Users/michaelabudde/practicum/fullstack/se_project_react/src/components/Main/Main.js"],"sourcesContent":["import \"./Main.css\";\n\nimport ItemCard from \"../ItemCard/ItemCard\";\nimport \"../ItemCard/ItemCard.css\";\nimport WeatherCard from \"../WeatherCard/WeatherCard\";\nimport { weatherOptions } from \"../../utils/constants\";\nimport { CurrentTemperatureUnitContext } from \"../../contexts/CurrentTemperatureUnitContext\";\nimport React, { useContext, useMemo } from \"react\";\n\nfunction Main({\n  weatherTemp,\n  onCardClick,\n  onCardLike,\n  onClose,\n  clothingArray,\n  timeOfDay,\n  day = true,\n}) {\n  const { currentTemperatureUnit } = useContext(CurrentTemperatureUnitContext);\n  const temp = weatherTemp?.temperature?.[currentTemperatureUnit] || 999;\n\n  const weatherOption = useMemo(() => {\n    const tempF = weatherTemp?.temperature?.F;\n    if (tempF >= 86) {\n      return \"hot\";\n    } else if (tempF >= 66 && tempF <= 85) {\n      return \"warm\";\n    } else if (tempF <= 65) {\n      return \"cold\";\n    }\n  }, [weatherTemp]);\n\n  // Construct the image path based on weatherType\n  const weatherCardImage = weatherOptions.find(\n    (option) => option.weatherType === weatherOption && option.day === day\n  )?.link;\n  // Ensure clothingArray is always an array\n\n  const filteredCards = Array.isArray(clothingArray)\n    ? clothingArray.filter(\n        (item) => item.weather.toLowerCase() === weatherOption\n      )\n    : [];\n\n  return (\n    <main className=\"main\">\n      <WeatherCard weatherCard={weatherCardImage} day={timeOfDay} temp={temp} />\n      <section className=\"main__clothes\">\n        <div className=\"main__info\">\n          <div className=\"card__section\">\n            <p className=\"card__section-title\">\n              Today is {temp}Â° {currentTemperatureUnit} and it is{\" \"}\n              {weatherOption}\n            </p>\n            <p className=\"card__section-title_slash\"> / </p>\n            <p className=\"card__section-title\">You may want to wear:</p>\n          </div>\n        </div>\n        <ul className=\"card__items\">\n          {filteredCards.map((item) => {\n            return (\n              <ItemCard\n                key={item._id}\n                item={item}\n                onCardClick={onCardClick(item)}\n                onCardLike={onCardLike}\n                onClose={onClose}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}