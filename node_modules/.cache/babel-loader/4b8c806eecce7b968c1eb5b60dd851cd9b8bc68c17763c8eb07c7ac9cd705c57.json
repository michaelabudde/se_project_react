{"ast":null,"code":"import ModalWithForm from\"../ModalWithForm/ModalWithForm\";import{useEffect,useContext}from\"react\";import{useFormAndValidation}from\"../../hooks/useFormAndValidation\";import{CurrentUserContext}from\"../../contexts/CurrentUserContext\";import\"../ModalWithForm/ModalWithForm.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const EditProfileModal=_ref=>{let{onClose,handleProfileUpdate,isLoading}=_ref;// removed isopen\nconst{values,handleChange,errors,resetForm}=useFormAndValidation();const{currentUser}=useContext(CurrentUserContext);const formInfo={title:\"Edit Profile\",name:\"edit-profile\",buttonText:\"Submit\"};const extraButton=[{text:\"Cancel\",onClick:()=>{onClose();},type:\"button\",disabled:false}];function onSubmit(e){e.preventDefault();handleProfileUpdate(values);}useEffect(()=>{// removed isOpen\nif(currentUser){resetForm({name:currentUser.name||\"\",email:currentUser.email||\"\",avatar:currentUser.avatar||\"\"},{},true);}},[currentUser,resetForm]);// removed isOpen\nreturn/*#__PURE__*/_jsxs(ModalWithForm,{formInfo:formInfo,onClose:onClose,onSubmit:onSubmit,extraButton:extraButton,isLoading:isLoading,children:[/*#__PURE__*/_jsx(\"label\",{className:\"modal-form__label\",htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"modal-form__input\",type:\"text\",id:\"name\",name:\"name\",placeholder:\"Name\",minLength:\"1\",maxLength:\"30\",onChange:handleChange,value:values.name}),/*#__PURE__*/_jsx(\"span\",{className:\"modal-form__error\",id:\"name-error\",children:errors.name||\"\"}),/*#__PURE__*/_jsx(\"label\",{className:\"modal-form__label\",htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"modal-form__input\",type:\"email\",id:\"email\",name:\"email\",placeholder:\"Email\",minLength:\"1\",maxLength:\"30\",onChange:handleChange,value:values.email}),/*#__PURE__*/_jsx(\"span\",{className:\"modal-form__error\",id:\"name-error\",children:errors.email||\"\"}),/*#__PURE__*/_jsx(\"label\",{className:\"modal-form__label\",htmlFor:\"link\",children:\"Profile Picture URL\"}),/*#__PURE__*/_jsx(\"input\",{className:\"modal-form__input\",id:\"link\",name:\"avatar\",placeholder:\"Image Link\",type:\"url\",onChange:handleChange,value:values.avatar}),/*#__PURE__*/_jsx(\"span\",{className:\"modal-form__error\",id:\"link-error\",children:errors.avatar||\"\"})]});};export default EditProfileModal;","map":{"version":3,"names":["ModalWithForm","useEffect","useContext","useFormAndValidation","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfileModal","_ref","onClose","handleProfileUpdate","isLoading","values","handleChange","errors","resetForm","currentUser","formInfo","title","name","buttonText","extraButton","text","onClick","type","disabled","onSubmit","e","preventDefault","email","avatar","children","className","htmlFor","id","placeholder","minLength","maxLength","onChange","value"],"sources":["/Users/michaelabudde/practicum/fullstack/se_project_react/src/components/EditProfile/EditProfileModal.js"],"sourcesContent":["import ModalWithForm from \"../ModalWithForm/ModalWithForm\";\nimport { useEffect, useContext } from \"react\";\nimport { useFormAndValidation } from \"../../hooks/useFormAndValidation\";\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\nimport \"../ModalWithForm/ModalWithForm.css\";\nconst EditProfileModal = ({ onClose, handleProfileUpdate, isLoading }) => {\n  // removed isopen\n  const { values, handleChange, errors, resetForm } = useFormAndValidation();\n  const { currentUser } = useContext(CurrentUserContext);\n\n  const formInfo = {\n    title: \"Edit Profile\",\n    name: \"edit-profile\",\n    buttonText: \"Submit\",\n  };\n\n  const extraButton = [\n    {\n      text: \"Cancel\",\n      onClick: () => {\n        onClose();\n      },\n      type: \"button\",\n      disabled: false,\n    },\n  ];\n\n  function onSubmit(e) {\n    e.preventDefault();\n    handleProfileUpdate(values);\n  }\n\n  useEffect(() => {\n    // removed isOpen\n    if (currentUser) {\n      resetForm(\n        {\n          name: currentUser.name || \"\",\n          email: currentUser.email || \"\",\n          avatar: currentUser.avatar || \"\",\n        },\n        {},\n        true\n      );\n    }\n  }, [currentUser, resetForm]);\n  // removed isOpen\n  return (\n    <ModalWithForm\n      formInfo={formInfo}\n      onClose={onClose}\n      onSubmit={onSubmit}\n      extraButton={extraButton}\n      isLoading={isLoading}\n    >\n      <label className=\"modal-form__label\" htmlFor=\"name\">\n        Name\n      </label>\n      <input\n        className=\"modal-form__input\"\n        type=\"text\"\n        id=\"name\"\n        name=\"name\"\n        placeholder={\"Name\"}\n        minLength=\"1\"\n        maxLength=\"30\"\n        onChange={handleChange}\n        value={values.name}\n      />\n      <span className=\"modal-form__error\" id=\"name-error\">\n        {errors.name || \"\"}\n      </span>\n      <label className=\"modal-form__label\" htmlFor=\"email\">\n        Email\n      </label>\n      <input\n        className=\"modal-form__input\"\n        type=\"email\"\n        id=\"email\"\n        name=\"email\"\n        placeholder={\"Email\"}\n        minLength=\"1\"\n        maxLength=\"30\"\n        onChange={handleChange}\n        value={values.email}\n      />\n      <span className=\"modal-form__error\" id=\"name-error\">\n        {errors.email || \"\"}\n      </span>\n      <label className=\"modal-form__label\" htmlFor=\"link\">\n        Profile Picture URL\n      </label>\n      <input\n        className=\"modal-form__input\"\n        id=\"link\"\n        name=\"avatar\"\n        placeholder={\"Image Link\"}\n        type=\"url\"\n        onChange={handleChange}\n        value={values.avatar}\n      />\n      <span className=\"modal-form__error\" id=\"link-error\">\n        {errors.avatar || \"\"}\n      </span>\n    </ModalWithForm>\n  );\n};\n\nexport default EditProfileModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}